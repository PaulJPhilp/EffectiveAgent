# Architecture Explorer Frontend

A React-based web application for interactively exploring and visualizing software architecture diagrams generated from your TypeScript codebase.

## What It Does

The Architecture Explorer Frontend provides an intuitive interface to:

- **Visualize Architecture Diagrams** - Renders Mermaid diagrams with proper layering and component organization
- **Interactive Navigation** - Pan, zoom, and navigate through complex architecture diagrams
- **Component Inspection** - Click on any component to view detailed metadata, descriptions, and links
- **Tag-based Filtering** - Filter and highlight components by custom tags for focused analysis
- **Responsive Design** - Works seamlessly across desktop and mobile devices

## Getting Started

### Prerequisites

- [Bun](https://bun.sh/) (latest version)
- Architecture data generated by the Architecture Generator (see `packages/architecture-generator`)

### Installation

```bash
cd apps/architecture-explorer
bun install
```

### Running the Application

#### Development Mode

```bash
bun run dev
```

This will start the development server, typically on [http://localhost:3001](http://localhost:3001). The application will automatically reload when you make changes to the source code.

#### Production Build

```bash
# Build for production
bun run build

# Preview the production build
bun run preview
```

### Loading Architecture Data

The application expects an `architecture.json` file to be available. This file is generated by the Architecture Generator:

1. Generate the data:
   ```bash
   cd packages/architecture-generator
   bun run generate
   ```

2. Copy the generated `architecture.json` to the frontend's public directory (if needed)

3. Start the frontend application

## Interactive Features

### Diagram Navigation

- **Pan** - Click and drag to move around the diagram
- **Zoom** - Use mouse wheel or touch gestures to zoom in/out
- **Fit to View** - Double-click to reset the diagram view

### Component Inspection

Click on any component (node) in the diagram to:
- View detailed metadata and descriptions
- See assigned tags and architectural layer
- Access external documentation links
- Understand the component's role in the system

The metadata panel will display:
- **Component Name** - The class or component identifier
- **Description** - Detailed explanation of the component's purpose
- **C4 Level** - System, container, or component level classification
- **Layer** - Architectural layer (presentation, application, domain, infrastructure, data)
- **Tags** - Custom categorization tags
- **Links** - External documentation and resource links

### Tag-based Filtering

Use the filter controls in the sidebar to:
- **View All Tags** - See all available tags across your architecture
- **Select Multiple Tags** - Filter to show only components with specific tags
- **Highlight Mode** - Dim unfiltered components while keeping filtered ones prominent
- **Reset Filters** - Clear all filters to view the complete architecture

### Visual Organization

The interface organizes components by:
- **Architectural Layers** - Components are grouped into subgraphs by layer
- **Relationships** - Arrows show dependencies and imports between components
- **Color Coding** - Different visual styles for different component types and states

## User Interface

The application layout includes:

### Main Diagram Area
- Full-screen diagram visualization
- Interactive Mermaid diagram rendering
- Pan and zoom controls
- Component click handling

### Sidebar Panel
- Filter controls for tag-based filtering
- Component metadata display
- External links and documentation access

### Header
- Application title and navigation
- View controls and options

## Configuration

### Customizing the Interface

The application uses:
- **Tailwind CSS** - For styling and responsive design
- **Shadcn UI** - For consistent component library
- **Mermaid.js** - For diagram rendering and interaction

### Data Format

The application expects architecture data in this format:

```json
{
  "metadata": {
    "generatedAt": "2024-01-15T10:30:00.000Z",
    "version": "1.0.0"
  },
  "diagrams": {
    "mermaid": "graph TD\n  subgraph Domain\n    UserService\n  end"
  },
  "nodes": [
    {
      "id": "UserService",
      "c4Level": "component",
      "layer": "domain",
      "description": "Manages user data...",
      "tags": ["user-management"],
      "links": ["https://docs.example.com"]
    }
  ],
  "edges": [
    {
      "from": "UserController",
      "to": "UserService",
      "relationshipType": "imports"
    }
  ]
}
```

## Development

### Project Structure

```
apps/architecture-explorer/
├── src/
│   ├── components/         # React components
│   │   ├── DiagramCanvas.tsx     # Main diagram rendering
│   │   ├── MetadataPanel.tsx     # Component details panel
│   │   └── FilterControls.tsx    # Tag filtering interface
│   ├── hooks/             # Custom React hooks
│   ├── types/             # TypeScript type definitions
│   └── utils/             # Utility functions
├── public/                # Static assets
└── package.json
```

### Key Components

- **DiagramCanvas** - Handles Mermaid diagram rendering and interaction
- **MetadataPanel** - Displays component details and external links
- **FilterControls** - Manages tag-based filtering functionality
- **App** - Main application component and state management

### Building for Production

The application is built as a static React application that can be deployed to any static hosting service:

```bash
bun run build
```

The built files will be in the `dist/` directory.

## Troubleshooting

### Common Issues

**"No architecture data found"**
- Ensure `architecture.json` exists and is accessible
- Check that the Architecture Generator has been run successfully
- Verify the data format matches the expected schema

**"Diagram not rendering"**
- Check browser console for JavaScript errors
- Ensure Mermaid syntax in the data is valid
- Try refreshing the page or clearing browser cache

**"Components not clickable"**
- Verify that component IDs in the diagram match the node data
- Check that Mermaid diagram includes clickable node definitions
- Ensure JavaScript is enabled in the browser

### Debug Mode

For development debugging:
1. Open browser developer tools
2. Check the Console tab for error messages
3. Use the Network tab to verify data loading
4. Inspect the Elements tab to examine the rendered diagram

### Performance

For large architectures:
- The application automatically handles pan/zoom performance
- Component filtering helps focus on relevant parts
- Consider breaking very large architectures into smaller, focused views

## Integration

The frontend integrates seamlessly with:
- **Architecture Generator** - Consumes generated JSON data
- **CI/CD Pipelines** - Can be built and deployed automatically
- **Documentation Sites** - Can be embedded or linked from other tools
- **Development Workflows** - Provides real-time architecture visualization

## Future Enhancements

Planned features for future versions:
- Export capabilities (PNG, SVG, PDF)
- Multiple diagram views and layouts
- Advanced filtering and search
- Component relationship analysis
- Architecture metrics and insights 